# Cohere 모델 검토 보고서

## Executive Summary (결론)

### 최종 모델 선정

| 용도 | 선정 모델 | 건당 비용 |
|------|-----------|-----------|
| **대량 처리/분류** | command-r7b-12-2024 | ~$0.0001 |
| **일반 분석** | command-r-08-2024 | ~$0.0003 |
| **고품질 보고서** | command-a-03-2025 | ~$0.005 |
| **복잡 추론/청구항** | command-a-reasoning-08-2025 | ~$0.01 |

### 핵심 발견
- **가장 저렴**: command-r7b (Command A 대비 67배 저렴)
- **가장 상세한 응답**: command-a-reasoning (청구항 분석 시 2배 더 상세)
- **비용 대비 성능 최고**: command-r (균형 잡힌 선택)

### 권장 운영 전략
1. **2단계 파이프라인**: r7b로 대량 필터링 → r 또는 a로 상세 분석
2. **비용 최적화**: 단순 작업은 r7b, 중요 분석만 command-a 사용

---

## 1. 개요

### 1.1 목적
- Cohere 제공 모델 적용 방법 테스트 (https://dashboard.cohere.com/welcome/login)
- 특허 텍스트 분석에 적절한 모델 선별 (command-r7b-12-2024, command-a-reasoning-08-2025 등)
- 모델 별 Max Tokens, 비용 정보

### 1.2 테스트 환경
- 테스트 일시: 2025-11-27
- Cohere API 버전: v2
- 테스트 데이터:
  - 샘플 텍스트 (리튬 이온 전지 관련)
  - 실제 특허 데이터 (차량 사고 녹화 장치)

---

## 2. 모델 비교

### 2.1 모델 스펙 요약

| 모델명 | Context | Max Output | Input 비용(/1M) | Output 비용(/1M) | 용도 |
|--------|---------|------------|-----------------|------------------|------|
| command-r7b-12-2024 | 128K | 4K | $0.0375 | $0.15 | 경량/저비용 |
| command-r-08-2024 | 128K | 4K | $0.15 | $0.60 | 균형형 |
| command-a-03-2025 | 256K | 8K | $2.50 | $10.00 | 고성능 |
| command-a-reasoning-08-2025 | 256K | 32K | $2.50 | $10.00 | 추론 특화 |
| command-a-vision-07-2025 | 128K | 8K | $2.50 | $10.00 | 이미지 처리 |

### 2.2 샘플 텍스트 벤치마크 결과

| 모델 | 응답시간 | 입력 토큰 | 출력 토큰 | 비용($) |
|------|----------|-----------|-----------|---------|
| command-r7b-12-2024 | 1.72s | 128 | 193 | $0.000034 |
| command-r-08-2024 | 6.65s | 128 | 367 | $0.000239 |
| command-a-03-2025 | 7.33s | 128 | 348 | $0.003800 |
| command-a-reasoning-08-2025 | 6.82s | 128 | 669 | $0.007010 |

### 2.3 비용 비교 (command-r7b 기준)

| 모델 | 상대 비용 |
|------|-----------|
| command-r7b | 1배 (기준) |
| command-r | 7배 |
| command-a | 112배 |
| command-a-reasoning | 206배 |

---

## 3. 실제 특허 데이터 테스트 결과

### 3.1 테스트 개요
- **테스트 데이터**: "차량 사고 녹화 장치 및 그것의 방법" 특허
- **테스트 항목**: 청구항 분석, 요약 분석
- **테스트 일시**: 2025-11-27

### 3.2 청구항 분석 결과

| 모델 | 응답시간 | 입력 토큰 | 출력 토큰 | 비용($) |
|------|----------|-----------|-----------|---------|
| command-r7b-12-2024 | 8.52s | 234 | 629 | $0.000103 |
| command-r-08-2024 | 6.48s | 234 | 371 | $0.000258 |
| command-a-03-2025 | 11.33s | 234 | 662 | $0.007205 |
| command-a-reasoning-08-2025 | 13.23s | 234 | **1,284** | $0.013425 |

### 3.3 요약 분석 결과

| 모델 | 응답시간 | 입력 토큰 | 출력 토큰 | 비용($) |
|------|----------|-----------|-----------|---------|
| command-r7b-12-2024 | 2.42s | 241 | 276 | $0.000050 |
| command-r-08-2024 | 6.28s | 241 | 350 | $0.000246 |
| command-a-03-2025 | 5.76s | 241 | 418 | $0.004783 |
| command-a-reasoning-08-2025 | 6.42s | 241 | 590 | $0.006503 |

### 3.4 실제 특허 테스트 핵심 발견

| 항목 | 결과 |
|------|------|
| **가장 저렴** | command-r7b ($0.000050~$0.000103/건) |
| **가장 상세한 응답** | command-a-reasoning (청구항 분석 시 1,284 토큰) |
| **비용 대비 성능** | command-r (적절한 비용에 품질 좋은 응답) |
| **청구항 분석 특화** | reasoning 모델이 2배 더 상세한 분석 제공 |

### 3.5 응답 품질 비교

**청구항 분석 시 각 모델의 특징:**

| 모델 | 응답 특징 |
|------|-----------|
| command-r7b | 핵심 위주 간결한 분석, 기본적인 구성요소 식별 |
| command-r | 균형 잡힌 분석, 기술적 효과 포함 |
| command-a | 구조화된 응답, 마크다운 형식, 전문적 표현 |
| command-a-reasoning | 가장 상세한 분석, 단계별 추론, 법적 해석 포함 |

---

## 4. 비용 정보 상세

### 4.1 모델별 토큰 비용

**Command A 계열** (고성능)
- 입력(input) 토큰: $2.50 / 백만 토큰
- 출력(output) 토큰: $10.00 / 백만 토큰

**Command R** (균형형)
- 입력(input) 토큰: $0.15 / 백만 토큰
- 출력(output) 토큰: $0.60 / 백만 토큰

**Command R7B** (경량)
- 입력(input) 토큰: $0.0375 / 백만 토큰
- 출력(output) 토큰: $0.15 / 백만 토큰

### 4.2 비용 시뮬레이션 (20만 토큰 기준)

**가정**: 입력 15만 토큰 + 출력 5만 토큰 = 총 20만 토큰

| 모델 | 입력 비용 (15만) | 출력 비용 (5만) | **총 비용** |
|------|------------------|-----------------|-------------|
| command-r7b | $0.0056 | $0.0075 | **$0.013** |
| command-r | $0.0225 | $0.030 | **$0.053** |
| command-a | $0.375 | $0.50 | **$0.875** |
| command-a-reasoning | $0.375 | $0.50 | **$0.875** |

---

## 5. 용도별 분석

### 5.1 대량 특허 요약/분류
- **추천 모델**: `command-r7b-12-2024`
- **이유**:
  - 초저비용 (Command A 대비 약 67배 저렴)
  - 가장 빠른 응답 속도 (1.72초~2.42초)
  - RAG 및 간단한 분류 작업에 충분한 성능
- **적합 작업**: 특허 초록 요약, 기술 분류, 키워드 추출
- **실제 테스트 비용**: $0.000050~$0.000103/건

### 5.2 일반 특허 분석/RAG
- **추천 모델**: `command-r-08-2024`
- **이유**:
  - 비용 대비 성능 균형 우수
  - 128K 컨텍스트로 긴 명세서 처리 가능
  - 실제 테스트에서 안정적인 품질
- **적합 작업**: 청구항 분석, 선행기술 비교, 상세 요약
- **실제 테스트 비용**: $0.000246~$0.000258/건

### 5.3 고품질 분석/보고서 생성
- **추천 모델**: `command-a-03-2025`
- **이유**:
  - 최고 품질의 구조화된 응답
  - 256K 컨텍스트로 복수 특허 동시 분석 가능
  - 마크다운 형식의 전문적 출력
- **적합 작업**: 침해 분석, 가치 평가, 상세 보고서
- **실제 테스트 비용**: $0.004783~$0.007205/건

### 5.4 복잡한 법률/기술 추론
- **추천 모델**: `command-a-reasoning-08-2025`
- **이유**:
  - 단계별 추론 능력 (청구항 분석 시 1,284 토큰 출력)
  - 32K 최대 출력 (가장 상세한 분석 가능)
  - 법적 해석 및 권리범위 분석에 최적
- **적합 작업**: 특허 유효성 판단, 침해 논리 분석, 복잡한 청구항 해석
- **실제 테스트 비용**: $0.006503~$0.013425/건

### 5.5 도면/표 포함 문서 분석
- **추천 모델**: `command-a-vision-07-2025`
- **이유**:
  - 이미지 처리 가능 (OCR, 도표 분석)
- **적합 작업**: 특허 도면 분석, 실험 데이터 표 해석

---

## 6. 월간 비용 시뮬레이션

### 6.1 월 100건 특허 분석

**가정**: 건당 평균 입력 5,000 토큰, 출력 2,000 토큰

| 모델 | 입력 비용 | 출력 비용 | **월 총비용** |
|------|-----------|-----------|---------------|
| command-r7b | $0.019 | $0.030 | **$0.05** |
| command-r | $0.075 | $0.120 | **$0.20** |
| command-a | $1.250 | $2.000 | **$3.25** |

### 6.2 월 10,000건 대량 처리

| 모델 | **월 총비용** |
|------|---------------|
| command-r7b | **$5** |
| command-r | **$20** |
| command-a | **$325** |

---

## 7. 결론 및 권장사항

### 7.1 최종 모델 선정

| 용도 | 선정 모델 | 우선순위 | 건당 비용 |
|------|-----------|----------|-----------|
| 대량 처리/분류 | command-r7b-12-2024 | 1순위 | ~$0.0001 |
| 일반 분석 | command-r-08-2024 | 2순위 | ~$0.0003 |
| 고품질 보고서 | command-a-03-2025 | 필요시 | ~$0.005 |
| 복잡 추론/청구항 | command-a-reasoning-08-2025 | 필요시 | ~$0.01 |

### 7.2 권장 운영 전략

1. **2단계 파이프라인 구성**
   - 1단계: `command-r7b`로 대량 필터링/분류
   - 2단계: `command-r` 또는 `command-a`로 상세 분석

2. **비용 최적화**
   - 단순 작업은 `command-r7b` 사용
   - 중요 분석만 `command-a` 사용
   - 청구항 심층 분석은 `command-a-reasoning` 사용

3. **모니터링**
   - 토큰 사용량 추적
   - 품질 vs 비용 지속 평가

---

## 8. 향후 과제

- [x] 실제 특허 데이터로 품질 비교 테스트 O 완료
- [ ] 프롬프트 최적화 (모델별 최적 프롬프트 도출)
- [ ] 에러 핸들링 및 재시도 로직 구현
- [ ] 배치 처리 파이프라인 구축

---

## 부록

### A. 테스트 코드 위치
- 샘플 벤치마크: `cohere_test_v2.py`
- 실제 특허 테스트: `cohere_real_patent_test.py`

### B. 테스트 결과 파일
- `cohere_benchmark_20251127_111008.txt`
- `real_patent_benchmark_claim_analysis_20251127_111612.txt`
- `real_patent_benchmark_summary_analysis_20251127_111612.txt`

### C. 참고 자료
- Cohere 대시보드: https://dashboard.cohere.com/welcome/login
- Cohere 공식 문서: https://docs.cohere.com
